(this["webpackJsonpproduct-app"]=this["webpackJsonpproduct-app"]||[]).push([[0],{100:function(e,t,c){},101:function(e,t,c){},102:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(13),o=c.n(a),i=c(38),r=c(19),l=c(14),d=c(143),s=c(142),j=c(144),u=c(75),p=c(147),b=c(62);c(107);b.a.initializeApp({apiKey:"AIzaSyD5WQwH2zEo3LOhc6knDkXg1E9KcigqIpw",authDomain:"product-app-f9343.firebaseapp.com",databaseURL:"https://product-app-f9343-default-rtdb.firebaseio.com",projectId:"product-app-f9343",storageBucket:"product-app-f9343.appspot.com",messagingSenderId:"1086267291185",appId:"1:1086267291185:web:b4581b738e5e349d66c710"});var m=b.a,h=c(140),O=(c(92),c(42)),x=c(40),f=c(150),g=c(137),v=c(138),y=c(145),_=c(139),C=(c(93),c(3)),N=function(e){var t=e.isOpen,c=e.product,a=e.edit,o=e.setOpenModal,i=Object(n.useState)(Object(x.a)({},c)),l=Object(r.a)(i,2),d=l[0],s=l[1],j=function(e){var t=e.target,c=t.value,n=t.name;s(Object(x.a)(Object(x.a)({},d),{},Object(O.a)({},n,c)))};return Object(n.useEffect)((function(){s(c)}),[c]),Object(C.jsxs)(f.a,{className:"product__edit-form",open:t,children:[Object(C.jsx)(g.a,{id:"form-dialog-title",children:"Edit Product"}),Object(C.jsxs)(v.a,{children:[Object(C.jsx)(y.a,{autoFocus:!0,margin:"dense",id:"modal-name",label:"Name",type:"text",name:"name",value:d.name,onChange:j,fullWidth:!0}),Object(C.jsx)(y.a,{autoFocus:!0,margin:"dense",id:"modal-image",label:"Image URL",type:"text",name:"imageUrl",value:d.imageUrl,onChange:j,fullWidth:!0}),Object(C.jsx)(y.a,{autoFocus:!0,margin:"dense",id:"modal-description",name:"description",label:"Description",value:d.description,onChange:j,type:"text",fullWidth:!0}),Object(C.jsx)(y.a,{autoFocus:!0,margin:"dense",id:"modal-count",label:"Count of products",name:"count",value:d.count,onChange:j,type:"text",fullWidth:!0}),Object(C.jsx)(y.a,{autoFocus:!0,margin:"dense",id:"modal-color",name:"color",label:"Color",value:d.color,onChange:j,type:"text",fullWidth:!0}),Object(C.jsx)(y.a,{autoFocus:!0,margin:"dense",id:"modal-width",name:"width",label:"Width",value:d.width,onChange:j,type:"text",fullWidth:!0}),Object(C.jsx)(y.a,{autoFocus:!0,margin:"dense",id:"modal-height",name:"height",label:"Height",value:d.height,onChange:j,type:"text",fullWidth:!0})]}),Object(C.jsxs)(_.a,{children:[Object(C.jsx)(h.a,{color:"primary",onClick:function(){s(d),a(d),o(!1)},children:"Save"}),Object(C.jsx)(h.a,{color:"secondary",onClick:function(){s(c)},children:"Undo"}),Object(C.jsx)(h.a,{variant:"contained",color:"secondary",type:"button",onClick:function(){o(!1)},children:"X"})]})]})},w=c(151),F=c(141),S=c(148),k=function(e){var t=e.isOpen,c=e.deleteProduct,a=e.setOpenDeleteModal,o=e.product,i=Object(n.useState)(!1),l=Object(r.a)(i,2),d=l[0],s=l[1];return Object(C.jsxs)(f.a,{className:"product__delete",open:t,children:[Object(C.jsx)(g.a,{id:"form-delete-title",children:"Do you really wana delete this product?"}),Object(C.jsx)(v.a,{children:Object(C.jsxs)(w.a,{name:"isBusiness",children:[Object(C.jsx)(F.a,{value:"true",control:Object(C.jsx)(S.a,{}),onClick:function(){s(!0)},label:"YES"}),Object(C.jsx)(F.a,{value:"false",control:Object(C.jsx)(S.a,{}),label:"NO",onClick:function(){s(!1)}})]})}),Object(C.jsxs)(_.a,{children:[Object(C.jsx)(h.a,{color:"primary",type:"button",onClick:function(){d?(c(o),a(!1)):a(!1)},children:"Submit"}),Object(C.jsx)(h.a,{color:"secondary",onClick:function(){a(!1)},children:"X"})]})]})},D=(c(98),function(e){var t=e.isOpen,c=e.setOpenComments,n=e.comments;return Object(C.jsxs)(f.a,{className:"product__comments",open:t,children:[Object(C.jsx)(g.a,{id:"product-comments",children:"Product Comments"}),Object(C.jsx)(v.a,{children:Object(C.jsx)("ul",{children:n.map((function(e){return Object(C.jsx)("li",{className:"comments",children:Object(C.jsx)("p",{children:"".concat(e.description," - ").concat(e.date)})})}))})}),Object(C.jsxs)(_.a,{children:[Object(C.jsx)(h.a,{color:"primary",children:"Add Comments"}),Object(C.jsx)(h.a,{type:"button",onClick:function(){c(!1)},children:"X"})]})]})}),P=function(e){var t=e.products,c=e.onEdit,a=e.onDelete,o=e.comments,l=e.commentFilter,d=Object(n.useState)(!1),s=Object(r.a)(d,2),j=s[0],u=s[1],b=Object(n.useState)({}),m=Object(r.a)(b,2),O=m[0],x=m[1],f=Object(n.useState)(!1),g=Object(r.a)(f,2),v=g[0],y=g[1],_=Object(n.useState)(!1),w=Object(r.a)(_,2),F=w[0],S=w[1],P=function(e){x(e)};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(p.a,{mt:10,ml:5,children:Object(C.jsx)(h.a,{variant:"contained",color:"secondary",children:Object(C.jsx)(i.b,{to:"/addProducts",className:"product__button-add",children:"Add new Product"})})}),Object(C.jsx)(p.a,{mt:1,ml:5,display:"flex",flexDirection:"column",children:Object(C.jsx)("ul",{className:"product-list",children:t.map((function(e){return Object(C.jsx)(p.a,{mr:3,children:Object(C.jsxs)("li",{className:"product-list__product product",style:{width:"500px"},children:[Object(C.jsx)("h2",{className:"product__title",children:e.name.toUpperCase()}),Object(C.jsx)("div",{children:Object(C.jsx)("img",{className:"product__photo",alt:"iphone 12",src:e.imageUrl,style:{height:"300px"}})}),Object(C.jsxs)(p.a,{display:"flex",justifyContent:"space-between",children:[Object(C.jsx)(h.a,{variant:"contained",type:"button",color:"primary",onClick:function(){P(e),u(!0)},children:"Edit"}),Object(C.jsx)(h.a,{variant:"contained",type:"button",style:{backgroundColor:"#DB4E3F",color:"#ffff"},onClick:function(){P(e),y(!0)},children:"Delete"})]}),Object(C.jsx)("p",{className:"product__description",children:e.description}),Object(C.jsx)("p",{children:"Count: ".concat(e.count)}),Object(C.jsx)("p",{children:"Color: ".concat(e.color)}),Object(C.jsx)("p",{children:"Size: ".concat(e.width," x ").concat(e.height)}),Object(C.jsx)(h.a,{variant:"contained",type:"button",color:"primary",style:{color:"#ffff",width:"100%"},onClick:function(){S(!0),l(e.id)},children:"Comments"}),Object(C.jsx)(N,{product:O,isOpen:j,setOpenModal:u,edit:c}),Object(C.jsx)(k,{isOpen:v,deleteProduct:a,setOpenDeleteModal:y,product:O}),Object(C.jsx)(D,{isOpen:F,setOpenComments:S,comments:o})]})},e.id)}))})})]})},E=c(73),U=c.n(E),A=(c(100),c(101),function(e){var t=e.onAddProduct,c=Object(n.useState)({}),a=Object(r.a)(c,2),o=a[0],i=a[1],l=Object(n.useState)(!1),d=Object(r.a)(l,2),s=d[0],j=d[1],u=function(e){var t=e.target,c=t.value,n=t.name;i(Object(x.a)(Object(x.a)({},o),{},Object(O.a)({},n,c)))};return Object(C.jsx)("div",{className:"new-product",children:Object(C.jsxs)("form",{onSubmit:function(e){var c;e.preventDefault(),c=o.imageUrl,/^((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www\.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[.!/\\\w]*))?)$/.test(c)?(j(!1),t(o)):j(!0),!1===s&&i({id:"",name:"",imageUrl:"",description:"",count:"",color:"",width:"",height:""})},className:"new-product__form form",children:[Object(C.jsx)("label",{htmlFor:"product-id",children:Object(C.jsx)("input",{className:"form__item",id:"product-id",name:"id",type:"text",placeholder:"ID",value:o.id,onChange:u,required:!0})}),Object(C.jsx)("label",{htmlFor:"product-name",children:Object(C.jsx)("input",{className:"form__item",name:"name",id:"product-name",type:"text",placeholder:"Name",value:o.name,onChange:u,required:!0})}),Object(C.jsxs)("label",{htmlFor:"product-img",children:[s&&Object(C.jsx)("p",{style:{color:"red"},children:"Not Valid URL "}),Object(C.jsx)("input",{className:U()("form__item",{error:s}),name:"imageUrl",id:"product-img",type:"text",placeholder:"Image URL",value:o.imageUrl,onChange:u,required:!0})]}),Object(C.jsx)("label",{htmlFor:"product-description",children:Object(C.jsx)("textarea",{className:"form__item",id:"product-description",type:"text",name:"description",placeholder:"Description",value:o.description,onChange:u,required:!0})}),Object(C.jsx)("label",{htmlFor:"product-count",children:Object(C.jsx)("input",{className:"form__item",id:"product-count",type:"number",name:"count",placeholder:"Count of product",value:o.count,onChange:u,required:!0})}),Object(C.jsx)("label",{htmlFor:"product-color",children:Object(C.jsx)("input",{className:"form__item",id:"product-color",name:"color",type:"text",placeholder:"Color",value:o.color,onChange:u,required:!0})}),Object(C.jsx)("label",{htmlFor:"product-width",children:Object(C.jsx)("input",{className:"form__item",id:"product-width",name:"width",type:"number",placeholder:"Width",value:o.width,onChange:u,required:!0})}),Object(C.jsx)("label",{htmlFor:"product-height",children:Object(C.jsx)("input",{className:"form__item",id:"product-height",name:"height",type:"number",placeholder:"Height",value:o.height,onChange:u,required:!0})}),Object(C.jsx)(h.a,{variant:"contained",color:"primary",type:"submit",children:"Add new product"})]})})}),I=(c(102),c(108)),W=function(){return Object(C.jsx)("section",{children:Object(C.jsx)(I.a,{children:Object(C.jsx)(s.a,{fixed:!0,children:Object(C.jsx)(p.a,{className:"header__logo-title",mt:10,children:"Product App"})})})})},q=(c(103),c(104),function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)([]),b=Object(r.a)(o,2),h=b[0],O=b[1],x=Object(n.useState)([]),f=Object(r.a)(x,2),g=f[0],v=f[1],y=m.firestore().collection("products"),_=m.firestore().collection("comments");return Object(n.useEffect)((function(){_.onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),O(t)})),y.onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),a(t)}))}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(d.a,{position:"fixed",children:Object(C.jsx)(s.a,{fixed:!0,children:Object(C.jsxs)(j.a,{className:"header",children:[Object(C.jsx)(u.a,{className:"header__logo-title",children:"Product App"}),Object(C.jsxs)(p.a,{className:"header__navigation navigation",display:"flex",children:[Object(C.jsx)(i.b,{to:"/",className:"navigation__title",color:"primary",children:"Home"}),Object(C.jsx)(i.b,{to:"/products",className:"navigation__title",color:"secondary",children:"Products"})]})]})})}),c?Object(C.jsx)("div",{className:"products",children:Object(C.jsxs)(l.d,{children:[Object(C.jsx)(l.b,{path:"/",exact:!0,children:Object(C.jsx)(W,{})}),Object(C.jsx)(l.b,{path:"/products",children:Object(C.jsx)(P,{products:c,onEdit:function(e){y.doc(e.id).set(e)},onDelete:function(e){y.doc(e.id).delete()},comments:g,commentFilter:function(e){v(h.filter((function(t){return t.productId===e})))}})}),Object(C.jsx)(l.b,{path:"/addProducts",children:Object(C.jsx)(A,{onAddProduct:function(e){y.doc(e.id).set(e)}})}),Object(C.jsx)(l.a,{to:"/"})]})}):Object(C.jsx)("p",{children:"Loading"})]})}),L=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,154)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),o(e),i(e)}))};c(105);o.a.render(Object(C.jsx)(i.a,{children:Object(C.jsx)(q,{})}),document.getElementById("root")),L()},92:function(e,t,c){},93:function(e,t,c){},98:function(e,t,c){}},[[106,1,2]]]);
//# sourceMappingURL=main.129b77ce.chunk.js.map