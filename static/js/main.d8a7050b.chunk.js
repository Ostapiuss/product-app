(this["webpackJsonpproduct-app"]=this["webpackJsonpproduct-app"]||[]).push([[0],{101:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){"use strict";c.r(t);var n=c(0),o=c.n(n),a=c(13),i=c.n(a),r=c(40),d=c(76),l=c(16),s=c(14),j=c(146),u=c(145),m=c(147),b=c(78),p=c(150),h=c(64);c(110);h.a.initializeApp({apiKey:"AIzaSyD5WQwH2zEo3LOhc6knDkXg1E9KcigqIpw",authDomain:"product-app-f9343.firebaseapp.com",databaseURL:"https://product-app-f9343-default-rtdb.firebaseio.com",projectId:"product-app-f9343",storageBucket:"product-app-f9343.appspot.com",messagingSenderId:"1086267291185",appId:"1:1086267291185:web:b4581b738e5e349d66c710"});var O=h.a,x=c(143),f=(c(95),c(31)),g=c(28),y=c(153),C=c(140),v=c(141),_=c(148),N=c(142),w=(c(96),c(3)),S=o.a.memo((function(e){var t=e.isOpen,c=e.product,o=e.edit,a=e.setOpenModal,i=Object(n.useState)(Object(g.a)({},c)),r=Object(l.a)(i,2),d=r[0],s=r[1],j=function(e){var t=e.target,c=t.value,n=t.name;s(Object(g.a)(Object(g.a)({},d),{},Object(f.a)({},n,c)))};return Object(n.useEffect)((function(){s(c)}),[c]),Object(w.jsxs)(y.a,{className:"product__edit-form",open:t,children:[Object(w.jsx)(C.a,{id:"form-dialog-title",children:"Edit Product"}),Object(w.jsxs)(v.a,{children:[Object(w.jsx)(_.a,{autoFocus:!0,margin:"dense",id:"modal-name",label:"Name",type:"text",name:"name",value:d.name,onChange:j,fullWidth:!0}),Object(w.jsx)(_.a,{autoFocus:!0,margin:"dense",id:"modal-image",label:"Image URL",type:"text",name:"imageUrl",value:d.imageUrl,onChange:j,fullWidth:!0}),Object(w.jsx)(_.a,{autoFocus:!0,margin:"dense",id:"modal-description",name:"description",label:"Description",value:d.description,onChange:j,type:"text",fullWidth:!0}),Object(w.jsx)(_.a,{autoFocus:!0,margin:"dense",id:"modal-count",label:"Count of products",name:"count",value:d.count,onChange:j,type:"text",fullWidth:!0}),Object(w.jsx)(_.a,{autoFocus:!0,margin:"dense",id:"modal-color",name:"color",label:"Color",value:d.color,onChange:j,type:"text",fullWidth:!0}),Object(w.jsx)(_.a,{autoFocus:!0,margin:"dense",id:"modal-width",name:"width",label:"Width",value:d.width,onChange:j,type:"text",fullWidth:!0}),Object(w.jsx)(_.a,{autoFocus:!0,margin:"dense",id:"modal-height",name:"height",label:"Height",value:d.height,onChange:j,type:"text",fullWidth:!0})]}),Object(w.jsxs)(N.a,{children:[Object(w.jsx)(x.a,{color:"primary",onClick:function(){s(d),o(d),a(!1)},children:"Save"}),Object(w.jsx)(x.a,{color:"secondary",onClick:function(){s(c)},children:"Undo"}),Object(w.jsx)(x.a,{variant:"contained",color:"secondary",type:"button",onClick:function(){a(!1)},children:"X"})]})]})})),F=c(154),k=c(144),D=c(151),A=o.a.memo((function(e){var t=e.isOpen,c=e.deleteProduct,o=e.setOpenDeleteModal,a=e.product,i=Object(n.useState)(!1),r=Object(l.a)(i,2),d=r[0],s=r[1];return Object(w.jsxs)(y.a,{className:"product__delete",open:t,children:[Object(w.jsx)(C.a,{id:"form-delete-title",children:"Do you really wana delete this product?"}),Object(w.jsx)(v.a,{children:Object(w.jsxs)(F.a,{name:"isBusiness",children:[Object(w.jsx)(k.a,{value:"true",control:Object(w.jsx)(D.a,{}),onClick:function(){s(!0)},label:"YES"}),Object(w.jsx)(k.a,{value:"false",control:Object(w.jsx)(D.a,{}),label:"NO",onClick:function(){s(!1)}})]})}),Object(w.jsxs)(N.a,{children:[Object(w.jsx)(x.a,{color:"primary",type:"button",onClick:function(){d?(c(a),o(!1)):o(!1)},children:"Submit"}),Object(w.jsx)(x.a,{color:"secondary",onClick:function(){o(!1)},children:"X"})]})]})})),E=(c(101),o.a.memo((function(e){var t=e.isOpen,c=e.setOpenComments,o=e.comments,a=e.onAddComment,i=e.productId,r=Object(n.useState)(!1),d=Object(l.a)(r,2),s=d[0],j=d[1],u=Object(n.useState)({description:"",productId:i}),m=Object(l.a)(u,2),b=m[0],p=m[1],h=Object(n.useState)(o),O=Object(l.a)(h,2),S=O[0],F=O[1];return Object(n.useEffect)((function(){F(o)})),Object(w.jsxs)(y.a,{className:"product__comments",open:t,children:[Object(w.jsx)(C.a,{id:"product-comments",children:"Product Comments"}),Object(w.jsx)(v.a,{children:Object(w.jsx)("ul",{children:S.map((function(e){return Object(w.jsx)("li",{className:"comments",children:Object(w.jsx)("p",{children:"".concat(e.description," - ").concat(e.date)})})}))})}),Object(w.jsxs)(N.a,{children:[Object(w.jsx)(x.a,{color:"primary",onClick:function(){j(!0)},children:"Add Comments"}),Object(w.jsx)(x.a,{type:"button",onClick:function(){c(!1)},children:"X"}),Object(w.jsxs)(y.a,{className:"add-new-comments",open:s,children:[Object(w.jsx)(C.a,{children:"Add new comment"}),Object(w.jsx)(v.a,{children:Object(w.jsx)(_.a,{autoFocus:!0,margin:"dense",id:"modal-name",label:"Description",type:"text",name:"description",value:b.description,onChange:function(e){var t=e.target,c=t.value,n=t.name;p(Object(g.a)(Object(g.a)({},b),{},Object(f.a)({},n,c)))},fullWidth:!0})}),Object(w.jsxs)(N.a,{children:[Object(w.jsx)(x.a,{type:"submit",onClick:function(){a(b),j(!1)},children:"ADD"}),Object(w.jsx)(x.a,{color:"secondary",onClick:function(){j(!1)},children:"X"})]})]})]})]})}))),I=o.a.memo((function(e){var t=e.products,c=e.onEdit,o=e.onDelete,a=e.comments,i=e.commentFilter,d=e.onAddComment,s=e.onSort,j=Object(n.useState)(!1),u=Object(l.a)(j,2),m=u[0],b=u[1],h=Object(n.useState)({}),O=Object(l.a)(h,2),f=O[0],g=O[1],y=Object(n.useState)(!1),C=Object(l.a)(y,2),v=C[0],_=C[1],N=Object(n.useState)(!1),F=Object(l.a)(N,2),k=F[0],D=F[1],I=function(e){g(e)};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(p.a,{mt:10,ml:5,children:[Object(w.jsx)(x.a,{variant:"contained",color:"secondary",children:Object(w.jsx)(r.b,{to:"/addProducts",className:"product__button-add",children:"Add new Product"})}),Object(w.jsx)(x.a,{variant:"contained",color:"primary",classNames:"priduct__button-sort",onClick:function(){s()},children:"Sort By Name"})]}),Object(w.jsx)(p.a,{mt:1,ml:5,display:"flex",flexDirection:"column",children:Object(w.jsx)("ul",{className:"product-list",children:t.map((function(e){return Object(w.jsx)(p.a,{mr:3,children:Object(w.jsxs)("li",{className:"product-list__product product",style:{width:"500px"},children:[Object(w.jsx)("h2",{className:"product__title",children:e.name.toUpperCase()}),Object(w.jsx)("div",{children:Object(w.jsx)("img",{className:"product__photo",alt:"iphone 12",src:e.imageUrl,style:{height:"300px"}})}),Object(w.jsxs)(p.a,{display:"flex",justifyContent:"space-between",children:[Object(w.jsx)(x.a,{variant:"contained",type:"button",color:"primary",onClick:function(){I(e),b(!0)},children:"Edit"}),Object(w.jsx)(x.a,{variant:"contained",type:"button",style:{backgroundColor:"#DB4E3F",color:"#ffff"},onClick:function(){I(e),_(!0)},children:"Delete"})]}),Object(w.jsx)("p",{className:"product__description",children:e.description}),Object(w.jsx)("p",{children:"Count: ".concat(e.count)}),Object(w.jsx)("p",{children:"Color: ".concat(e.color)}),Object(w.jsx)("p",{children:"Size: ".concat(e.width," x ").concat(e.height)}),Object(w.jsx)(x.a,{variant:"contained",type:"button",color:"primary",style:{color:"#ffff",width:"100%"},onClick:function(){i(e.id),D(!0)},children:"Comments"}),Object(w.jsx)(S,{product:f,isOpen:m,setOpenModal:b,edit:c}),Object(w.jsx)(A,{isOpen:v,deleteProduct:o,setOpenDeleteModal:_,product:f}),Object(w.jsx)(E,{isOpen:k,setOpenComments:D,comments:a,onAddComment:d,productId:e.id})]})},e.id)}))})})]})})),P=c(75),U=c.n(P),W=(c(103),c(104),function(e){var t=e.onAddProduct,c=Object(n.useState)({}),o=Object(l.a)(c,2),a=o[0],i=o[1],r=Object(n.useState)(!1),d=Object(l.a)(r,2),s=d[0],j=d[1],u=function(e){var t=e.target,c=t.value,n=t.name;i(Object(g.a)(Object(g.a)({},a),{},Object(f.a)({},n,c)))};return Object(w.jsx)("div",{className:"new-product",children:Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),!function(e){var t=/^((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www\.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[.!/\\\w]*))?)$/;if(t.test(e))return t}(a.imageUrl)?j(!0):(j(!1),t(a),i({id:"",name:"",imageUrl:"",description:"",count:"",color:"",width:"",height:""}))},className:"new-product__form form",children:[Object(w.jsx)("label",{htmlFor:"product-id",children:Object(w.jsx)("input",{id:"product-id",className:"form__item",name:"id",type:"number",placeholder:"ID",value:a.id,onChange:u,required:!0})}),Object(w.jsx)("label",{htmlFor:"product-name",children:Object(w.jsx)("input",{id:"product-name",className:"form__item",name:"name",type:"text",placeholder:"Name",value:a.name,onChange:u,required:!0})}),Object(w.jsxs)("label",{htmlFor:"product-img",children:[s&&Object(w.jsx)("p",{style:{color:"red"},children:"Not Valid URL "}),Object(w.jsx)("input",{id:"product-img",className:U()("form__item",{error:s}),name:"imageUrl",type:"text",placeholder:"Image URL",value:a.imageUrl,onChange:u,required:!0})]}),Object(w.jsx)("label",{htmlFor:"product-description",children:Object(w.jsx)("textarea",{id:"product-description",className:"form__item",name:"description",type:"text",placeholder:"Description",value:a.description,onChange:u,required:!0})}),Object(w.jsx)("label",{htmlFor:"product-count",children:Object(w.jsx)("input",{id:"product-count",className:"form__item",name:"count",type:"number",placeholder:"Count of product",value:a.count,onChange:u,required:!0})}),Object(w.jsx)("label",{htmlFor:"product-color",children:Object(w.jsx)("input",{id:"product-color",className:"form__item",name:"color",type:"text",placeholder:"Color",value:a.color,onChange:u,required:!0})}),Object(w.jsx)("label",{htmlFor:"product-width",children:Object(w.jsx)("input",{id:"product-width",className:"form__item",name:"width",type:"number",placeholder:"Width",value:a.width,onChange:u,required:!0})}),Object(w.jsx)("label",{htmlFor:"product-height",children:Object(w.jsx)("input",{id:"product-height",className:"form__item",name:"height",type:"number",placeholder:"Height",value:a.height,onChange:u,required:!0})}),Object(w.jsx)(x.a,{variant:"contained",color:"primary",type:"submit",children:"Add new product"})]})})}),q=(c(105),c(111)),L=function(){return Object(w.jsx)("section",{children:Object(w.jsx)(q.a,{children:Object(w.jsx)(u.a,{fixed:!0,children:Object(w.jsx)(p.a,{className:"header__logo-title",mt:10,children:"Product App"})})})})},z=(c(106),c(107),function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],o=t[1],a=Object(n.useState)([]),i=Object(l.a)(a,2),h=i[0],x=i[1],f=Object(n.useState)([]),g=Object(l.a)(f,2),y=g[0],C=g[1],v=O.firestore().collection("products"),_=O.firestore().collection("comments");return Object(n.useEffect)((function(){_.onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),x(t)})),v.onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),o(t)}))}),[]),console.log(c),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(j.a,{position:"fixed",children:Object(w.jsx)(u.a,{fixed:!0,children:Object(w.jsxs)(m.a,{className:"header",children:[Object(w.jsx)(b.a,{className:"header__logo-title",children:"Product App"}),Object(w.jsxs)(p.a,{className:"header__navigation navigation",display:"flex",children:[Object(w.jsx)(r.b,{to:"/",className:"navigation__title",color:"primary",children:"Home"}),Object(w.jsx)(r.b,{to:"/products",className:"navigation__title",color:"secondary",children:"Products"})]})]})})}),c?Object(w.jsx)("div",{className:"products",children:Object(w.jsxs)(s.d,{children:[Object(w.jsx)(s.b,{path:"/",exact:!0,children:Object(w.jsx)(L,{})}),Object(w.jsx)(s.b,{path:"/products",children:Object(w.jsx)(I,{products:c,onEdit:function(e){v.doc(e.id).set(e)},onDelete:function(e){v.doc(e.id).delete()},comments:y,commentFilter:function(e){C(h.filter((function(t){return t.productId===e})))},onAddComment:function(e){_.add(e)},onSort:function(){o(Object(d.a)(c).sort((function(e,t){return e.name.localeCompare(t.name)})))}})}),Object(w.jsx)(s.b,{path:"/addProducts",children:Object(w.jsx)(W,{onAddProduct:function(e){v.doc(e.id).set(e)}})}),Object(w.jsx)(s.a,{to:"/"})]})}):Object(w.jsx)("p",{children:"Loading"})]})}),B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,157)).then((function(t){var c=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),o(e),a(e),i(e)}))};c(108);i.a.render(Object(w.jsx)(r.a,{children:Object(w.jsx)(z,{})}),document.getElementById("root")),B()},95:function(e,t,c){},96:function(e,t,c){}},[[109,1,2]]]);
//# sourceMappingURL=main.d8a7050b.chunk.js.map