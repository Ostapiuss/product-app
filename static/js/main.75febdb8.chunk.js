(this["webpackJsonpproduct-app"]=this["webpackJsonpproduct-app"]||[]).push([[0],{101:function(e,t,c){},103:function(e,t,c){},104:function(e,t,c){},105:function(e,t,c){},106:function(e,t,c){},107:function(e,t,c){},108:function(e,t,c){},109:function(e,t,c){"use strict";c.r(t);var n=c(0),o=c.n(n),a=c(13),i=c.n(a),r=c(40),d=c(76),s=c(16),l=c(14),j=c(148),u=c(147),m=c(149),b=c(78),p=c(152),h=c(64);c(110);h.a.initializeApp({apiKey:"AIzaSyD5WQwH2zEo3LOhc6knDkXg1E9KcigqIpw",authDomain:"product-app-f9343.firebaseapp.com",databaseURL:"https://product-app-f9343-default-rtdb.firebaseio.com",projectId:"product-app-f9343",storageBucket:"product-app-f9343.appspot.com",messagingSenderId:"1086267291185",appId:"1:1086267291185:web:b4581b738e5e349d66c710"});var O=h.a,x=c(144),f=c(146),g=(c(95),c(31)),C=c(28),v=c(155),y=c(141),_=c(142),N=c(150),w=c(143),S=(c(96),c(3)),F=o.a.memo((function(e){var t=e.isOpen,c=e.product,o=e.edit,a=e.setOpenModal,i=Object(n.useState)(Object(C.a)({},c)),r=Object(s.a)(i,2),d=r[0],l=r[1],j=function(e){var t=e.target,c=t.value,n=t.name;l(Object(C.a)(Object(C.a)({},d),{},Object(g.a)({},n,c)))};return Object(n.useEffect)((function(){l(c)}),[c]),Object(S.jsxs)(v.a,{className:"product__edit-form",open:t,children:[Object(S.jsx)(y.a,{id:"form-dialog-title",children:"Edit Product"}),Object(S.jsxs)(_.a,{children:[Object(S.jsx)(N.a,{autoFocus:!0,margin:"dense",id:"modal-name",label:"Name",type:"text",name:"name",value:d.name,onChange:j,fullWidth:!0}),Object(S.jsx)(N.a,{autoFocus:!0,margin:"dense",id:"modal-image",label:"Image URL",type:"text",name:"imageUrl",value:d.imageUrl,onChange:j,fullWidth:!0}),Object(S.jsx)(N.a,{autoFocus:!0,margin:"dense",id:"modal-description",name:"description",label:"Description",value:d.description,onChange:j,type:"text",fullWidth:!0}),Object(S.jsx)(N.a,{autoFocus:!0,margin:"dense",id:"modal-count",label:"Count of products",name:"count",value:d.count,onChange:j,type:"text",fullWidth:!0}),Object(S.jsx)(N.a,{autoFocus:!0,margin:"dense",id:"modal-color",name:"color",label:"Color",value:d.color,onChange:j,type:"text",fullWidth:!0}),Object(S.jsx)(N.a,{autoFocus:!0,margin:"dense",id:"modal-width",name:"width",label:"Width",value:d.width,onChange:j,type:"text",fullWidth:!0}),Object(S.jsx)(N.a,{autoFocus:!0,margin:"dense",id:"modal-height",name:"height",label:"Height",value:d.height,onChange:j,type:"text",fullWidth:!0})]}),Object(S.jsxs)(w.a,{children:[Object(S.jsx)(x.a,{color:"primary",onClick:function(){l(d),o(d),a(!1)},children:"Save"}),Object(S.jsx)(x.a,{color:"secondary",onClick:function(){l(c)},children:"Undo"}),Object(S.jsx)(x.a,{variant:"contained",color:"secondary",type:"button",onClick:function(){a(!1)},children:"X"})]})]})})),k=c(156),A=c(145),D=c(153),E=o.a.memo((function(e){var t=e.isOpen,c=e.deleteProduct,o=e.setOpenDeleteModal,a=e.product,i=Object(n.useState)(!1),r=Object(s.a)(i,2),d=r[0],l=r[1];return Object(S.jsxs)(v.a,{className:"product__delete",open:t,children:[Object(S.jsx)(y.a,{id:"form-delete-title",children:"Do you really wana delete this product?"}),Object(S.jsx)(_.a,{children:Object(S.jsxs)(k.a,{name:"isBusiness",children:[Object(S.jsx)(A.a,{value:"true",control:Object(S.jsx)(D.a,{}),onClick:function(){l(!0)},label:"YES"}),Object(S.jsx)(A.a,{value:"false",control:Object(S.jsx)(D.a,{}),label:"NO",onClick:function(){l(!1)}})]})}),Object(S.jsxs)(w.a,{children:[Object(S.jsx)(x.a,{color:"primary",type:"button",onClick:function(){d?(c(a),o(!1)):o(!1)},children:"Submit"}),Object(S.jsx)(x.a,{color:"secondary",onClick:function(){o(!1)},children:"X"})]})]})})),I=(c(101),o.a.memo((function(e){var t=e.isOpen,c=e.setOpenComments,o=e.comments,a=e.onAddComment,i=e.productId,r=Object(n.useState)(!1),d=Object(s.a)(r,2),l=d[0],j=d[1],u=Object(n.useState)({description:"",productId:i}),m=Object(s.a)(u,2),b=m[0],p=m[1],h=Object(n.useState)(o),O=Object(s.a)(h,2),f=O[0],F=O[1];return Object(n.useEffect)((function(){F(o)})),Object(S.jsxs)(v.a,{className:"product__comments",open:t,children:[Object(S.jsx)(y.a,{id:"product-comments",children:"Product Comments"}),Object(S.jsx)(_.a,{children:Object(S.jsx)("ul",{children:f.map((function(e){return Object(S.jsx)("li",{className:"comments",children:Object(S.jsx)("p",{children:"".concat(e.description," - ").concat(e.date)})})}))})}),Object(S.jsxs)(w.a,{children:[Object(S.jsx)(x.a,{color:"primary",onClick:function(){j(!0)},children:"Add Comments"}),Object(S.jsx)(x.a,{type:"button",onClick:function(){c(!1)},children:"X"}),Object(S.jsxs)(v.a,{className:"add-new-comments",open:l,children:[Object(S.jsx)(y.a,{children:"Add new comment"}),Object(S.jsx)(_.a,{children:Object(S.jsx)(N.a,{autoFocus:!0,margin:"dense",id:"modal-name",label:"Description",type:"text",name:"description",value:b.description,onChange:function(e){var t=e.target,c=t.value,n=t.name;p(Object(C.a)(Object(C.a)({},b),{},Object(g.a)({},n,c)))},fullWidth:!0})}),Object(S.jsxs)(w.a,{children:[Object(S.jsx)(x.a,{type:"submit",onClick:function(){a(b),j(!1)},children:"ADD"}),Object(S.jsx)(x.a,{color:"secondary",onClick:function(){j(!1)},children:"X"})]})]})]})]})}))),P=o.a.memo((function(e){var t=e.products,c=e.onEdit,o=e.onDelete,a=e.comments,i=e.commentFilter,d=e.onAddComment,l=e.onSort,j=Object(n.useState)(!1),u=Object(s.a)(j,2),m=u[0],b=u[1],h=Object(n.useState)({}),O=Object(s.a)(h,2),g=O[0],C=O[1],v=Object(n.useState)(!1),y=Object(s.a)(v,2),_=y[0],N=y[1],w=Object(n.useState)(!1),k=Object(s.a)(w,2),A=k[0],D=k[1],P=function(e){C(e)};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(p.a,{mt:10,ml:5,children:[Object(S.jsx)(x.a,{variant:"contained",color:"secondary",children:Object(S.jsx)(r.b,{to:"/addProducts",className:"product__button-add",children:"Add new Product"})}),Object(S.jsx)(x.a,{variant:"contained",color:"primary",classNames:"priduct__button-sort",onClick:function(){l()},children:"Sort By Name"})]}),Object(S.jsx)(f.a,{mt:1,ml:5,children:Object(S.jsx)("ul",{className:"product-list",children:t.map((function(e){return Object(S.jsx)(p.a,{mr:3,mb:3,width:"auto",children:Object(S.jsxs)("li",{className:"product-list__product product",style:{width:"500px"},children:[Object(S.jsx)("h2",{className:"product__title",children:e.name.toUpperCase()}),Object(S.jsx)("div",{children:Object(S.jsx)("img",{className:"product__photo",alt:"iphone 12",src:e.imageUrl,style:{height:"300px"}})}),Object(S.jsxs)(p.a,{display:"flex",justifyContent:"space-between",children:[Object(S.jsx)(x.a,{variant:"contained",type:"button",color:"primary",onClick:function(){P(e),b(!0)},children:"Edit"}),Object(S.jsx)(x.a,{variant:"contained",type:"button",style:{backgroundColor:"#DB4E3F",color:"#ffff"},onClick:function(){P(e),N(!0)},children:"Delete"})]}),Object(S.jsx)("p",{className:"product__description",children:e.description}),Object(S.jsx)("p",{children:"Count: ".concat(e.count)}),Object(S.jsx)("p",{children:"Color: ".concat(e.color)}),Object(S.jsx)("p",{children:"Size: ".concat(e.width," x ").concat(e.height)}),Object(S.jsx)(x.a,{variant:"contained",type:"button",color:"primary",style:{color:"#ffff",width:"100%"},onClick:function(){i(e.id),D(!0)},children:"Comments"}),Object(S.jsx)(F,{product:g,isOpen:m,setOpenModal:b,edit:c}),Object(S.jsx)(E,{isOpen:_,deleteProduct:o,setOpenDeleteModal:N,product:g}),Object(S.jsx)(I,{isOpen:A,setOpenComments:D,comments:a,onAddComment:d,productId:e.id})]})},e.id)}))})})]})})),U=c(75),W=c.n(U),q=(c(103),c(104),function(e){var t=e.onAddProduct,c=Object(n.useState)({}),o=Object(s.a)(c,2),a=o[0],i=o[1],r=Object(n.useState)(!1),d=Object(s.a)(r,2),l=d[0],j=d[1],u=function(e){var t=e.target,c=t.value,n=t.name;i(Object(C.a)(Object(C.a)({},a),{},Object(g.a)({},n,c)))};return Object(S.jsx)("div",{className:"new-product",children:Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault(),!function(e){var t=/^((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=+$,\w]+@)?[A-Za-z0-9.-]+|(?:www\.|[-;:&=+$,\w]+@)[A-Za-z0-9.-]+)((?:\/[+~%/.\w-_]*)?\??(?:[-+=&;%@.\w_]*)#?(?:[.!/\\\w]*))?)$/;if(t.test(e))return t}(a.imageUrl)?j(!0):(j(!1),t(a),i({id:"",name:"",imageUrl:"",description:"",count:"",color:"",width:"",height:""}))},className:"new-product__form form",children:[Object(S.jsx)("label",{htmlFor:"product-id",children:Object(S.jsx)("input",{id:"product-id",className:"form__item",name:"id",type:"number",placeholder:"ID",value:a.id,onChange:u,required:!0})}),Object(S.jsx)("label",{htmlFor:"product-name",children:Object(S.jsx)("input",{id:"product-name",className:"form__item",name:"name",type:"text",placeholder:"Name",value:a.name,onChange:u,required:!0})}),Object(S.jsxs)("label",{htmlFor:"product-img",children:[l&&Object(S.jsx)("p",{style:{color:"red"},children:"Not Valid URL "}),Object(S.jsx)("input",{id:"product-img",className:W()("form__item",{error:l}),name:"imageUrl",type:"text",placeholder:"Image URL",value:a.imageUrl,onChange:u,required:!0})]}),Object(S.jsx)("label",{htmlFor:"product-description",children:Object(S.jsx)("textarea",{id:"product-description",className:"form__item",name:"description",type:"text",placeholder:"Description",value:a.description,onChange:u,required:!0})}),Object(S.jsx)("label",{htmlFor:"product-count",children:Object(S.jsx)("input",{id:"product-count",className:"form__item",name:"count",type:"number",placeholder:"Count of product",value:a.count,onChange:u,required:!0})}),Object(S.jsx)("label",{htmlFor:"product-color",children:Object(S.jsx)("input",{id:"product-color",className:"form__item",name:"color",type:"text",placeholder:"Color",value:a.color,onChange:u,required:!0})}),Object(S.jsx)("label",{htmlFor:"product-width",children:Object(S.jsx)("input",{id:"product-width",className:"form__item",name:"width",type:"number",placeholder:"Width",value:a.width,onChange:u,required:!0})}),Object(S.jsx)("label",{htmlFor:"product-height",children:Object(S.jsx)("input",{id:"product-height",className:"form__item",name:"height",type:"number",placeholder:"Height",value:a.height,onChange:u,required:!0})}),Object(S.jsx)(x.a,{variant:"contained",color:"primary",type:"submit",children:"Add new product"})]})})}),L=(c(105),c(111)),z=function(){return Object(S.jsx)("section",{children:Object(S.jsx)(L.a,{children:Object(S.jsx)(u.a,{fixed:!0,children:Object(S.jsx)(p.a,{className:"header__logo-title",children:"Product App"})})})})},B=(c(106),c(107),function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),c=t[0],o=t[1],a=Object(n.useState)([]),i=Object(s.a)(a,2),h=i[0],x=i[1],f=Object(n.useState)([]),g=Object(s.a)(f,2),C=g[0],v=g[1],y=O.firestore().collection("products"),_=O.firestore().collection("comments");return Object(n.useEffect)((function(){_.onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),x(t)})),y.onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),o(t)}))}),[]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(j.a,{position:"fixed",children:Object(S.jsx)(u.a,{fixed:!0,children:Object(S.jsxs)(m.a,{className:"header",children:[Object(S.jsx)(b.a,{className:"header__logo",children:"Product App"}),Object(S.jsxs)(p.a,{className:"header__navigation navigation",display:"flex",children:[Object(S.jsx)(r.b,{to:"/",className:"navigation__title",color:"primary",children:"Home"}),Object(S.jsx)(r.b,{to:"/products",className:"navigation__title",color:"secondary",children:"Products"})]})]})})}),c?Object(S.jsx)("div",{className:"products",children:Object(S.jsxs)(l.d,{children:[Object(S.jsx)(l.b,{path:"/",exact:!0,children:Object(S.jsx)(z,{})}),Object(S.jsx)(l.b,{path:"/products",children:Object(S.jsx)(P,{products:c,onEdit:function(e){y.doc(e.id).set(e)},onDelete:function(e){y.doc(e.id).delete()},comments:C,commentFilter:function(e){v(h.filter((function(t){return t.productId===e})))},onAddComment:function(e){_.add(e)},onSort:function(){o(Object(d.a)(c).sort((function(e,t){return e.name.localeCompare(t.name)})))}})}),Object(S.jsx)(l.b,{path:"/addProducts",children:Object(S.jsx)(q,{onAddProduct:function(e){y.doc(e.id).set(e)}})}),Object(S.jsx)(l.a,{to:"/"})]})}):Object(S.jsx)("p",{children:"Loading"})]})}),X=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,159)).then((function(t){var c=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),o(e),a(e),i(e)}))};c(108);i.a.render(Object(S.jsx)(r.a,{children:Object(S.jsx)(B,{})}),document.getElementById("root")),X()},95:function(e,t,c){},96:function(e,t,c){}},[[109,1,2]]]);
//# sourceMappingURL=main.75febdb8.chunk.js.map